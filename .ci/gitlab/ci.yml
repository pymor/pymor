# THIS FILE IS AUTOGENERATED -- DO NOT EDIT #
#   Edit and Re-run .ci/gitlab/yml_template.py instead       #

stages:
  - test
  - check_install
  - deploy

3.6_numpy:
    image: pymor/testing:3.6
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="NUMPY" DOCKER_TAG="3.6"
      - .ci/gitlab/script.bash
3.6_None:
    image: pymor/testing:3.6
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="None" DOCKER_TAG="3.6"
      - .ci/gitlab/script.bash
3.6_PIP_ONLY:
    image: pymor/testing:3.6
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="PIP_ONLY" DOCKER_TAG="3.6"
      - .ci/gitlab/script.bash
3.6_MPI:
    image: pymor/testing:3.6
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="MPI" DOCKER_TAG="3.6"
      - .ci/gitlab/script.bash
3.7_None:
    image: pymor/testing:3.7
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="None" DOCKER_TAG="3.7"
      - .ci/gitlab/script.bash
3.7_PIP_ONLY:
    image: pymor/testing:3.7
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="PIP_ONLY" DOCKER_TAG="3.7"
      - .ci/gitlab/script.bash
3.7_MPI:
    image: pymor/testing:3.7
    stage: test
    script:
      - export PYMOR_PYTEST_MARKER="MPI" DOCKER_TAG="3.7"
      - .ci/gitlab/script.bash
debian_stable:
    image: docker:stable
    stage: check_install
    variables:
        DOCKER_HOST: tcp://docker:2375/
        DOCKER_DRIVER: overlay2
    services:
        - docker:dind
    before_script:
        - docker info
    script: docker build -f .ci/docker/install_checks/debian_stable/Dockerfile .

debian_testing:
    image: docker:stable
    stage: check_install
    variables:
        DOCKER_HOST: tcp://docker:2375/
        DOCKER_DRIVER: overlay2
    services:
        - docker:dind
    before_script:
        - docker info
    script: docker build -f .ci/docker/install_checks/debian_testing/Dockerfile .

centos_7:
    image: docker:stable
    stage: check_install
    variables:
        DOCKER_HOST: tcp://docker:2375/
        DOCKER_DRIVER: overlay2
    services:
        - docker:dind
    before_script:
        - docker info
    script: docker build -f .ci/docker/install_checks/centos_7/Dockerfile .


deploy:
    stage: deploy
    only: ['branches', 'tags']
    script: echo "DISABLED ./.ci/travis/deploy.bash"

# THIS FILE IS AUTOGENERATED -- DO NOT EDIT #
#   Edit and Re-run .ci/travis/yml_template.py instead       #
